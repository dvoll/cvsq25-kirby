blueprint: page

status:
  draft:
    label: Entwurf
    text: Ein Newsletter-Entwurf.
  listed:
    label: Versendet
    text: Ein versendeter Newsletter.

options:
  # preview: false
  changeStatus: true
  changeSlug: false
  move: false
  changeTemplate:
    - newsletter-sent
    - newsletter


tabs:
  report:
    label: Bericht
    sections:
      header:
        type: fields
        fields:
          headerReport:
            label: Sendungsbericht
            type: headline
      reports:
        type: newsletter-result
      result:
        type: fields
        fields:
          results:
            extends: fields/results
          log:
            type: textarea
            disabled: true


  content:
    label: Inhalt
    sections:
      actions:
        type: newsletter-action
        label: "{{ page.subject }}"
      content:
        type: fields
        fields:
          testRecipients:
            width: 2/3
            label: Test-Empfänger
            help: Mehrere E-Mail Adressen können mit Komma getrennt eingetragen werden
            type: text
            icon: email

          headerContent:
            label: Inhalt
            type: headline

          audience:
            width: 2/3
            label: Empfänger
            type: multiselect
            min: 1
            options:
              type: query
              query: page.parent.subscriberCategories.toStructure
              text: "{{ item.name }}"
              value: "{{ item.id }}"

          subject:
            label: Betreff
            width: 2/3
            type: text
            required: true
            default: "Newsletter"

          message:
            label: Nachricht
            type: blocks
            width: 2/3
            min: 1
            required: true
            fieldsets:
              - mail-heading
              - mail-text
              - mail-image
              - mail-images
              - mail-button
              - mail-list
              - mail-line
            default:
              - type: mail-heading
                content:
                  text: Newsletter
                  level: h1
              - type: mail-text
                content:
                  text: <p>Inhalt des Newsletters</p>

          infoPlaceholder:
            width: 1/3
            label: Platzhalter
            type: info
            theme: passive
            text: |
              Folgende Platzhalter können in den Blöcken der Nachricht genutzt werden:

              - Vorname: <span style="font-family: monospace">{{ vorname &#125;&#125;<span />
              - Nachname: <span style="font-family: monospace">{{ nachname &#125;&#125;<span />
              - E-Mail-Adresse: <span style="font-family: monospace">{{ email &#125;&#125;<span />

  # settings:
  #   label: Einstellungen
  #   fields:
  #     headerSettings:
  #       label: Einstellungen
  #       type: headline

